<!DOCTYPE html>
<html>
<head>
    <title>Food Demand Analytics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.75)),
                        url("https://images.unsplash.com/photo-1550547660-d9450f859349");
            background-size: cover;
            background-position: center;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .container {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            width: 550px;
            border-radius: 15px;
            backdrop-filter: blur(15px);
            box-shadow: 0px 8px 25px rgba(0,0,0,0.5);
        }

        h2 {
            text-align: center;
            margin-bottom: 25px;
        }

        .slot-box {
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 10px;
        }

        .green { background: #28a745; }
        .yellow { background: #ffc107; color: black; }
        .red { background: #dc3545; }

        .item-details {
            font-size: 14px;
            margin-top: 8px;
            color: #f1f1f1;
        }

        .total-box {
            background: #ff5722;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }

        .success-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            animation: fadeOut 3s forwards;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.4);
        }

        @keyframes fadeOut {
            0% {opacity: 1;}
            80% {opacity: 1;}
            100% {opacity: 0;}
        }

        .links {
            margin-top: 25px;
            text-align: center;
        }

        .links a {
            color: #ddd;
            text-decoration: none;
            display: block;
            margin-top: 10px;
        }

        .links a:hover {
            color: white;
        }

        @media(max-width: 480px) {
            .container {
                width: 90%;
                padding: 25px;
            }
        }
    </style>
</head>

<body>

{% if success %}
<div class="success-popup">
    ‚úÖ Payment Successful! Order Confirmed.
</div>
{% endif %}

<div class="container">

    <h2>üìä Food Demand Analytics</h2>

    {% if demand %}
        {% for slot, qty in demand.items() %}
            <div class="slot-box {{ slot_status[slot] }}">
                ‚è∞ {{ slot }} ‚Üí {{ qty }} Orders

                {% if slot in slot_status %}
                    <div class="item-details">
                        {% if slot_status[slot] == 'green' %}
                            üü¢ Low Congestion
                        {% elif slot_status[slot] == 'yellow' %}
                            üü° Medium Congestion
                        {% else %}
                            üî¥ High Congestion
                        {% endif %}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    {% else %}
        <div class="slot-box green">
            No orders yet.
        </div>
    {% endif %}

    <div class="total-box">
        üçΩ Total Orders: {{ total_orders }}
    </div>

    <div class="links">
        <a href="/food">‚¨Ö Back to Food Page</a>
        <a href="/dashboard">üè† Back to Dashboard</a>
    </div>

</div>

</body>
</html>
